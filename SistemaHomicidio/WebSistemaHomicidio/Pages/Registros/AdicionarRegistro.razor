@page "/SIMIP/novo-registro"
@attribute [Authorize]


<EditForm Model="@novoRegistro" OnValidSubmit="SalvarRegistro" class="editForm">
    <DataAnnotationsValidator />
    <MudContainer Class="mt-16 px-8" MaxWidth="MaxWidth.False">
        <MudGrid>
            <MudItem xs="12">
                <MudBreadcrumbs Items="_items">
                    <ItemTemplate Context="item">
                        <MudLink Color="Color.Dark" Href="@item.Href">@item.Text.ToUpper()</MudLink>
                    </ItemTemplate>
                </MudBreadcrumbs>
            </MudItem>
            <!--Cabeçalho do Formulário-->
            <MudItem xs="12">
                <MudPaper Class="sombra pa-5 mx-2" Elevation="3">
                    <MudGrid>
                        <!-- Nº BOE-->
                        <MudItem xs="12" sm="6" md="2">
                            <MudTextField @bind-Value="@novoRegistro.BOE"
                                          Label="Nº BOE"
                                          Variant="Variant.Outlined"
                                          For="@(()=> novoRegistro.BOE)"
                                          id="boe-mask"/>
                        </MudItem>
                        <!-- Data Registro-->
                        <MudItem xs="12" sm="6" md="2">
                            <MudDatePicker Label="Data Registro"
                                           DisableToolbar="true"
                                           DateFormat="dd/MM/yyyy"
                                           AllowKeyboardInput="true"
                                           MaxDate="DateTime.Now"
                                           @bind-Date="@novoRegistro.DataRegistroBOE"
                                           For="@(()=> novoRegistro.DataRegistroBOE)" />
                        </MudItem>
                        <!-- Tipo de Registro-->
                        <MudItem xs="12" sm="6" md="4">
                            <MudField Label="Tipo de Registro" Variant="Variant.Outlined" InnerPadding="false" Class="align-content-center">
                                <MudRadioGroup @bind-SelectedOption="@novoRegistro.TipoDeRegistro">
                                    <MudRadio Option="@("TENTATIVA")" Color="Color.Primary">Tentativa</MudRadio>
                                    <MudRadio Option="@("CONSUMADO")" Color="Color.Primary">Consumado</MudRadio>
                                    <ValidationMessage For="@(()=> novoRegistro.TipoDeRegistro)" />
                                </MudRadioGroup>
                            </MudField>
                        </MudItem>
                        <!-- Intencionalidade-->
                        <MudItem xs="12" sm="6" md="3">
                            <MudSelect T="string" Label="Intencionalidade" Variant="Variant.Outlined" @bind-Value="novoRegistro.Intencionalidade">
                                <MudSelectItem Value="@("CULPOSO")" />
                                <MudSelectItem Value="@("DOLOSO")" />
                                <MudSelectItem Value="@("DOLO EVENTUAL")" />
                                <MudSelectItem Value="@("NAO INFORMADO")" />
                            </MudSelect>
                            <ValidationMessage For="@(()=> novoRegistro.Intencionalidade)" />
                        </MudItem>
                        <!--Status do Registro-->
                        <MudItem xs="12" sm="6" md="1">
                            <MudGrid Justify="Justify.Center" Style="margin-top: 8px;">
                                <MudText Typo="Typo.caption">Status</MudText>
                                <MudSwitch @bind-Checked="novoRegistro.StatusRegistro" Color="Color.Primary" Class="status"/>
                            </MudGrid>
                        </MudItem>
                        <!--BOEComplementado-->
                        <MudItem xs="12" sm="6">
                            <MudPaper Class="pa-2 mx-2" Elevation="0">
                                <MudTable Items="@listaBOEComplementados" Dense="true" Hover="true" Striped="true" Class="tabelaBOEcomplementado">
                                    <ToolBarContent>
                                        <MudText Typo="Typo.subtitle2">BOE Complementados</MudText>
                                        <MudSpacer />
                                        <MudTooltip Text="Adicionar" Arrow="true" Placement="Placement.Left">
                                            <MudFab @onclick="AdicionarBOEComplementado" Color="Color.Primary" Icon="@Icons.Material.Filled.Add" Size="Size.Small" IconSize="Size.Medium" Class="ma-2" />
                                        </MudTooltip>
                                    </ToolBarContent>
                                    <HeaderContent>
                                        <MudTh>Nº BOE</MudTh>
                                        <MudTh>Data Registro</MudTh>
                                        <MudTh>Ações</MudTh>
                                    </HeaderContent>
                                    <RowTemplate Context="BOEComplementado">
                                        <MudTd DataLabel="Nº BOE">@BOEComplementado.Boe</MudTd>
                                        <MudTd DataLabel="Data Registro">@BOEComplementado.DataRegistro.Value.ToString("d")</MudTd>
                                        <MudTd DataLabel="Ações">
                                            <MudTooltip Text="Alterar" Arrow="true" Placement="Placement.Left">
                                                <MudIconButton @onclick="(()=> EditarBOEComplementado(BOEComplementado))" Icon="@Icons.Material.Filled.Edit" Color="Color.Primary" />
                                            </MudTooltip>
                                            <MudTooltip Text="Excluir" Arrow="true" Placement="Placement.Right">
                                                <MudIconButton @onclick="(()=> ExcluirBOEComplementado(BOEComplementado))" Icon="@Icons.Material.Filled.Delete" Color="Color.Error" />
                                            </MudTooltip>
                                        </MudTd>
                                    </RowTemplate>
                                </MudTable>
                            </MudPaper>
                        </MudItem>
                        <!-- Observações-->
                        <MudItem xs="12" sm="6">
                            <MudPaper Class="pa-2 mx-2" Elevation="0">
                                <MudTextField T="string" @bind-Value="@novoRegistro.ObservacaoRegistro"
                                              Label="Observações"
                                              Variant="Variant.Outlined"
                                              Lines="6" />
                            </MudPaper>
                        </MudItem>
                    </MudGrid>
                </MudPaper>
            </MudItem>
            <!-- TabPages-->
            <MudItem xs="12">
                <MudTabs Elevation="3" Rounded="true" ApplyEffectsToContainer="true" PanelClass="pa-6" Class="sombra">
                    <!-- Fato-->
                    <MudTabPanel Text="Fato">
                        <MudText>
                            <MudPaper Class="pa-5 mx-2" Elevation="3">
                                <MudGrid>
                                    <!--Data-->
                                    <MudItem xs="12" sm="6" md="2">
                                        <MudDatePicker Label="Data do Fato"
                                                       DisableToolbar="true"
                                                       DateFormat="dd/MM/yyyy"
                                                       AllowKeyboardInput="true"
                                                       MaxDate="DateTime.Now"
                                                       @bind-Date="@novoRegistro.Fato.DataFato"
                                                       For="@(()=> novoRegistro.Fato.DataFato)"/>
                                    </MudItem>
                                    <!--Hora-->
                                    <MudItem xs="12" sm="6" md="2">
                                        <MudTimePicker Label="Hora do Fato"
                                                       @bind-Time="@novoRegistro.Fato.HoraFato" 
                                                       AllowKeyboardInput="true" 
                                                       AutoClose="true"/>
                                    </MudItem>
                                    <!--Turno-->
                                    <MudItem xs="12" sm="6" md="4">
                                        <MudSelect T="string" Label="Turno" Variant="Variant.Outlined" @bind-Value="@novoRegistro.Fato.TurnoFato">
                                            <MudSelectItem Value="@("MADRUGADA")" />
                                            <MudSelectItem Value="@("MANHA")" />
                                            <MudSelectItem Value="@("TARDE")" />
                                            <MudSelectItem Value="@("NOITE")" />
                                        </MudSelect>
                                    </MudItem>
                                    <!--Status Motivação-->
                                    <MudItem xs="12" sm="6" md="4">
                                        <MudField Label="Status Motivação" Variant="Variant.Outlined" InnerPadding="false">
                                            <MudRadioGroup @bind-SelectedOption="@novoRegistro.Fato.StatusMotivacaoFato">
                                                <MudRadio Option="@("PRELIMINAR")" Color="Color.Primary">Preliminar</MudRadio>
                                                <MudRadio Option="@("DEFINITIVA")" Color="Color.Primary">Definitiva</MudRadio>
                                            </MudRadioGroup>
                                        </MudField>
                                    </MudItem>
                                    <!--Natureza-->
                                    <MudItem xs="12" sm="6" md="6">
                                        <MudSelect T="string" Label="Natureza" Variant="Variant.Outlined" @bind-value="@novoRegistro.Fato.NaturezaBoe">
                                            <MudSelectItem Value="@("HOMICIDIO")" />
                                            <MudSelectItem Value="@("FEMINICIDIO")" />
                                            <MudSelectItem Value="@("ROUBO SEGUIDO DE MORTE (LATROCINIO)")" />
                                        </MudSelect>
                                    </MudItem>
                                    <!--Causa Jurídica-->
                                    <MudItem xs="12" sm="6" md="6">
                                        <MudSelect T="string" Label="Causa Jurídica" Variant="Variant.Outlined" @bind-Value="@novoRegistro.Fato.CausaJuridicaFato">
                                            <MudSelectItem Value="@("NAO INFORMADA")" />
                                            <MudSelectItem Value="@("ACIDENTE DE TRABALHO")" />
                                            <MudSelectItem Value="@("ATROPELAMENTO")" />
                                            <MudSelectItem Value="@("ACIDENTE OUTROS")" />
                                            <MudSelectItem Value="@("ACIDENTE DE TRANSITO")" />
                                            <MudSelectItem Value="@("SUICIDIO")" />
                                            <MudSelectItem Value="@("HOMICIDIO")" />
                                        </MudSelect>
                                    </MudItem>
                                    <!--Região-->
                                    <MudItem xs="12" sm="6" md="3">
                                        <MudSelect T="string" Label="Região" Variant="Variant.Outlined" @bind-Value="@novoRegistro.Fato.RegiaoFato">
                                            <MudSelectItem Value="@("REGIAO METROPOLITANA")" />
                                            <MudSelectItem Value="@("ZONA DA MATA NORTE")" />
                                            <MudSelectItem Value="@("ZONA DA MATA SUL")" />
                                            <MudSelectItem Value="@("AGRESTE")" />
                                            <MudSelectItem Value="@("SERTAO")" />
                                        </MudSelect>
                                    </MudItem>
                                    <!--Município-->
                                    <MudItem xs="12" sm="6" md="4">
                                        <MudAutocomplete T="Municipio_Diretoria_AIS_BPM" Label="Município"
                                                         Variant="Variant.Outlined"
                                                         @bind-Value="@novoRegistro.Fato.MunicipioFato"
                                                         SearchFunc="@Municipios"
                                                         ToStringFunc="@(e => e == null ? null : $"{ e.Municipio }")"/>
                                        <ValidationMessage For="@(()=> novoRegistro.Fato.MunicipioFato)" />
                                    </MudItem>
                                    <!--Bairro-->
                                    <MudItem xs="12" sm="6" md="5">
                                        <MudTextField Label="Bairro"
                                                      Variant="Variant.Outlined"
                                                      @bind-Value="@novoRegistro.Fato.BairroFato"
                                                      For="@(()=> novoRegistro.Fato.BairroFato)"/>
                                    </MudItem>
                                    <!--Logradouro-->
                                    <MudItem xs="12" sm="6" md="6">
                                        <MudTextField @bind-Value="@novoRegistro.Fato.LogradouroFato"
                                                      Label="Logradouro"
                                                      Variant="Variant.Outlined" />
                                    </MudItem>
                                    <!--Numero do Logradouro-->
                                    <MudItem xs="12" sm="6" md="2">
                                        <MudTextField @bind-Value="@novoRegistro.Fato.NumeroLogradouroFato"
                                                      Label="Nº Logradouro"
                                                      Variant="Variant.Outlined" />
                                    </MudItem>
                                    <!--Complemento-->
                                    <MudItem xs="12" sm="12" md="4">
                                        <MudTextField @bind-Value="@novoRegistro.Fato.ComplementoFato"
                                                      Label="Complemento"
                                                      Variant="Variant.Outlined" />
                                    </MudItem>
                                    <!--Ponto de referência-->
                                    <MudItem xs="12" sm="6" md="4">
                                        <MudTextField @bind-Value="@novoRegistro.Fato.PontoReferenciaFato"
                                                      Label="Ponto de Referência"
                                                      Variant="Variant.Outlined" />
                                    </MudItem>
                                    <!--Localidade/Comunidade-->
                                    <MudItem xs="12" sm="6" md="8">
                                        <MudTextField @bind-Value="@novoRegistro.Fato.LocalidadeComunidadeFato"
                                                      Label="Localidade/Comunidade"
                                                      Variant="Variant.Outlined" />
                                    </MudItem>
                                    <!--Local do Fato-->
                                    <MudItem xs="12" sm="6" md="8">
                                        <MudAutocomplete T="string" Label="Local do Fato"
                                                         @bind-Value="@novoRegistro.Fato.LocalFato"
                                                         Variant="Variant.Outlined"
                                                         SearchFunc="@LocalFato" />
                                    </MudItem>
                                    <!--Zona-->
                                    <MudItem xs="12" sm="6" md="4">
                                        <MudField Label="Zona" Variant="Variant.Outlined" InnerPadding="false">
                                            <MudRadioGroup @bind-SelectedOption="@novoRegistro.Fato.ZonaFato">
                                                <MudRadio Option="@("URBANA")" Color="Color.Primary">Urbana</MudRadio>
                                                <MudRadio Option="@("RURAL")" Color="Color.Primary">Rural</MudRadio>
                                            </MudRadioGroup>
                                        </MudField>
                                    </MudItem>
                                    <!--Diretoria-->
                                    <MudItem xs="12" sm="6" md="4">
                                        @if (@novoRegistro.Fato.MunicipioFato is null)
                                        {
                                            <MudTextField @bind-Value="@novoRegistro.Fato.DiretoriaFato"
                                                          Label="Diretoria"
                                                          Variant="Variant.Outlined" />
                                        }
                                        else
                                        {
                                            <MudTextField Value="@novoRegistro.Fato.DiretoriaFato"
                                                          Label="Diretoria"
                                                          Variant="Variant.Outlined"
                                                          Text="@novoRegistro.Fato.MunicipioFato.Diretoria"/>
                                        }
                                    </MudItem>
                                    <!--AIS-->
                                    <MudItem xs="12" sm="6" md="4">
                                        @if (@novoRegistro.Fato.MunicipioFato is null)
                                        {
                                        <MudTextField @bind-Value="@novoRegistro.Fato.AisFato"
                                                      Label="AIS"
                                                      Variant="Variant.Outlined" />
                                        }
                                        else
                                        {
                                            <MudTextField Value="@novoRegistro.Fato.AisFato"
                                                          Label="AIS"
                                                          Variant="Variant.Outlined"
                                                          Text="@novoRegistro.Fato.MunicipioFato.AIS" />
                                        }
                                    </MudItem>
                                    <!--PMPE-->
                                    <MudItem xs="12" sm="6" md="4">
                                        @if (@novoRegistro.Fato.MunicipioFato is null)
                                        {
                                        <MudTextField @bind-Value="@novoRegistro.Fato.UnidadePMFato"
                                                      Label="Unidade PMPE"
                                                      Variant="Variant.Outlined" />
                                        }
                                        else
                                        {
                                            <MudTextField Value="@novoRegistro.Fato.UnidadePMFato"
                                                          Label="Unidade PMPE"
                                                          Variant="Variant.Outlined"
                                                          Text="@novoRegistro.Fato.MunicipioFato.BPM" />
                                        }
                                    </MudItem>
                                    <!--PCPE-->
                                    <MudItem xs="12" sm="6" md="12">
                                        <MudTextField @bind-Value="@novoRegistro.Fato.UnidadePCFato"
                                                      Label="Unidade PCPE"
                                                      Variant="Variant.Outlined" />
                                    </MudItem>
                                    <!--Latitude-->
                                    <MudItem xs="12" sm="6" md="3">
                                        <MudTextField @bind-Value="@novoRegistro.Fato.LatitudeFato"
                                                      Label="Latitude"
                                                      Variant="Variant.Outlined"
                                                      id="lat-mask"/>
                                    </MudItem>
                                    <!--Longitude-->
                                    <MudItem xs="12" sm="6" md="3">
                                        <MudTextField @bind-Value="@novoRegistro.Fato.LongitudeFato"
                                                      Label="Longitude"
                                                      Variant="Variant.Outlined"
                                                      id="long-mask"/>
                                    </MudItem>
                                    <!--Fonte-->
                                    <MudItem xs="12" sm="6" md="6">
                                        <MudField Label="Fonte" Variant="Variant.Outlined" InnerPadding="false">
                                            <MudRadioGroup @bind-SelectedOption="@novoRegistro.Fato.FonteFato">
                                                <MudRadio Option="@("DO BOE")" Color="Color.Primary">Do BOE</MudRadio>
                                                <MudRadio Option="@("UNICAME")" Color="Color.Primary">UNICAME</MudRadio>
                                                <MudRadio Option="@("NO LOCAL")" Color="Color.Primary">No Local</MudRadio>
                                                <MudRadio Option="@("OUTRAS")" Color="Color.Primary">Outras</MudRadio>
                                            </MudRadioGroup>
                                        </MudField>
                                    </MudItem>
                                    <!--Histórico-->
                                    <MudItem xs="12" sm="12" md="12">
                                        <MudTextField Label="Histórico"
                                                      Variant="Variant.Outlined"
                                                      @bind-Value="@novoRegistro.Fato.HistoricoFato"
                                                      Lines="15" />
                                    </MudItem>
                                </MudGrid>
                            </MudPaper>
                        </MudText>
                    </MudTabPanel>
                    <!-- Envolvidos-->
                    <MudTabPanel Text="Envolvidos">
                        <MudText>
                            <MudGrid>
                                <MudItem xs="12">
                                    <MudTable Items="@listaEnvolvidos" Dense="true" Hover="true" Striped="true">
                                        <ToolBarContent>
                                            <MudText Typo="Typo.subtitle2">Lista de Envolvidos</MudText>
                                            <MudSpacer />
                                            <MudTooltip Text="Adicionar" Arrow="true" Placement="Placement.Left">
                                                <MudFab @onclick="AdicionarEnvolvido" Color="Color.Primary" Icon="@Icons.Material.Filled.Add" Size="Size.Small" IconSize="Size.Medium" Class="ma-2" />
                                            </MudTooltip>
                                        </ToolBarContent>
                                        <HeaderContent>
                                            <MudTh>Sequencial</MudTh>
                                            <MudTh>Tipo</MudTh>
                                            <MudTh>Nome</MudTh>
                                            <MudTh>Data de Nascimento</MudTh>
                                            <MudTh>Ações</MudTh>
                                        </HeaderContent>
                                        <RowTemplate Context="Envolvido">
                                            <MudTd DataLabel="Sequencial">@Envolvido.SequencialEnvolvido</MudTd>
                                            <MudTd DataLabel="Tipo">@Envolvido.TipoEnvolvido</MudTd>
                                            <MudTd DataLabel="Nome">@Envolvido.NomeEnvolvido</MudTd>
                                            <MudTd DataLabel="Data de Nascimento">@Envolvido.DataNascimento.Value.ToString("d")</MudTd>
                                            <MudTd DataLabel="Ações">
                                                <MudTooltip Text="Alterar" Arrow="true" Placement="Placement.Left">
                                                    <MudIconButton OnClick="(()=> EditarEnvolvido(Envolvido))" Icon="@Icons.Material.Filled.Edit" Color="Color.Primary" aria-label="editar"></MudIconButton>
                                                </MudTooltip>
                                                <MudTooltip Text="Excluir" Arrow="true" Placement="Placement.Right">
                                                    <MudIconButton OnClick="(()=> ExcluirEnvolvido(Envolvido))" Icon="@Icons.Material.Filled.Delete" Color="Color.Error" aria-label="delete"></MudIconButton>
                                                </MudTooltip>
                                            </MudTd>
                                        </RowTemplate>
                                    </MudTable>
                                </MudItem>
                            </MudGrid>
                        </MudText>
                    </MudTabPanel>
                    <!-- Inquérito-->
                    <MudTabPanel Text="Inquérito">
                        <MudText>
                            <MudPaper Class="pa-5 mx-2" Elevation="3">
                                <MudGrid>
                                    <!--Tipo de Instauração-->
                                    <MudItem xs="12" sm="6" md="3">
                                        <MudSelect T="string" Label="Tipo de Instauração" Variant="Variant.Outlined" @bind-Value="@novoRegistro.Inquerito.TipoInstauracao">
                                            <MudSelectItem Value="@("APFD")" />
                                            <MudSelectItem Value="@("AAFAI")" />
                                            <MudSelectItem Value="@("PEM")" />
                                            <MudSelectItem Value="@("REQUISICAO DO MP")" />
                                            <MudSelectItem Value="@("PORTARIA")" />
                                        </MudSelect>
                                    </MudItem>
                                    <!--Número do Inquérito Policial-->
                                    <MudItem xs="12" sm="6" md="3">
                                        <MudTextField @bind-Value="@novoRegistro.Inquerito.NumeroIP"
                                                      Label="Número do Inquérito Policial"
                                                      Variant="Variant.Outlined"
                                                      Adornment="Adornment.End"
                                                      Immediate="true" />
                                    </MudItem>
                                    <!--Data da Instauração-->
                                    <MudItem xs="12" sm="6" md="3">
                                        <MudPaper Class="pa-2 mx-2" Elevation="0">
                                            <MudDatePicker Label="Data Instauração"
                                                           DisableToolbar="true"
                                                           DateFormat="dd/MM/yyyy"
                                                           AllowKeyboardInput="true"
                                                           MaxDate="DateTime.Now"
                                                           @bind-Date="@novoRegistro.Inquerito.DataInstaraucao" />

                                        </MudPaper>
                                    </MudItem>
                                    <!--Situação Atual-->
                                    <MudItem xs="12" sm="6" md="3">
                                        <MudSelect T="string" Label="Situação Atual" Variant="Variant.Outlined" @bind-Value="@novoRegistro.Inquerito.SituacaoIP">
                                            <MudSelectItem Value="@("EM INVESTIGACAO")" />
                                            <MudSelectItem Value="@("SEM INVESTIGACAO")" />
                                            <MudSelectItem Value="@("CONCLUSAO COM AUTORIA")" />
                                            <MudSelectItem Value="@("CONCLUSAO SEM AUTORIA")" />
                                        </MudSelect>
                                    </MudItem>
                                    <!-- Números -->
                                    <MudItem xs="12" sm="6" md="6">
                                        <MudField Label="Número de: " Variant="Variant.Outlined">
                                            <MudGrid>
                                                <MudItem xs="12" sm="6" md="12" Style="margin: 8px 20px">
                                                    <MudGrid>
                                                        <label style="margin: 12px 5px">Ouvidas de Testemunhas</label>
                                                        <MudNumericField @bind-Value="@novoRegistro.Inquerito.NumeroOuvida"
                                                                         Variant="Variant.Outlined"
                                                                         Margin="Margin.Dense"
                                                                         Style="width: 50%; margin-left: 50%;" 
                                                                         Min="0"
                                                                         Max="10"/>
                                                    </MudGrid>
                                                </MudItem>
                                                <MudItem xs="12" sm="6" md="12" Style="margin: 8px 20px">
                                                    <MudGrid>
                                                        <label style="margin: 12px 5px">Declarações de Familiares </label>
                                                        <MudNumericField @bind-Value="@novoRegistro.Inquerito.NumeroDeclaracao"
                                                                         Variant="Variant.Outlined"
                                                                         Margin="Margin.Dense"
                                                                         Style="width: 50%; margin-left: 49%; " 
                                                                         Min="0"
                                                                         Max="10"/>
                                                    </MudGrid>
                                                </MudItem>
                                                <MudItem xs="12" sm="6" md="12" Style="margin: 8px 20px">
                                                    <MudGrid>
                                                        <label style="margin: 12px 5px">Qual.Interrogatório/Susp.</label>
                                                        <MudNumericField @bind-Value="@novoRegistro.Inquerito.NumeroQual"
                                                                         Variant="Variant.Outlined"
                                                                         Margin="Margin.Dense"
                                                                         Style="width: 50%; margin-left: 50%;" 
                                                                         Min="0"
                                                                         Max="10"/>
                                                    </MudGrid>
                                                </MudItem>
                                            </MudGrid>
                                        </MudField>
                                    </MudItem>
                                    <!-- Representação-->
                                    <MudItem xs="12" sm="6" md="6">
                                        <MudField Label="Representação" Variant="Variant.Outlined">
                                            <MudGrid>
                                                <MudItem xs="12" sm="6" md="12">
                                                    <MudSelect T="string" Label="Tipo de Representação" Variant="Variant.Outlined" @bind-Value="@novoRegistro.Inquerito.TipoRepresentacao">
                                                        <MudSelectItem Value="@("PRISAO PREVENTIVA")" />
                                                        <MudSelectItem Value="@("PRISAO TEMPORARIA")" />
                                                        <MudSelectItem Value="@("BUSCA E APREENSAO ADOLESCENTE")" />
                                                        <MudSelectItem Value="@("BUSCA E APREENSAO DOMICILIAR")" />
                                                        <MudSelectItem Value="@("QUEBRA DE SIGILO TELEFONICO")" />
                                                        <MudSelectItem Value="@("QUEBRA DE SIGILO TELEMATICO")" />
                                                        <MudSelectItem Value="@("QUEBRA DE SIGILO BANCARIO")" />
                                                        <MudSelectItem Value="@("QUEBRA DE SIGILO FISCAL")" />
                                                        <MudSelectItem Value="@("INTERCEPTACAO TELEFONICA")" />
                                                        <MudSelectItem Value="@("OUTROS")" />
                                                    </MudSelect>
                                                </MudItem>
                                                <!--Data Representação-->
                                                <MudItem xs="12" sm="6" md="6">
                                                    <MudPaper Class="pa-2 mx-2" Elevation="0">
                                                        <MudDatePicker Label="Data Representação"
                                                                       DisableToolbar="true"
                                                                       DateFormat="dd/MM/yyyy"
                                                                       AllowKeyboardInput="true"
                                                                       MaxDate="DateTime.Now"
                                                                       @bind-Date="@novoRegistro.Inquerito.DataRepresentacao" />

                                                    </MudPaper>
                                                </MudItem>
                                                <!--Numero do Oficio-->
                                                <MudItem xs="12" sm="6" md="6">
                                                    <MudTextField @bind-Value="@novoRegistro.Inquerito.NumOfRemessa"
                                                                  Label="Número do Ofício"
                                                                  Variant="Variant.Outlined"
                                                                  Adornment="Adornment.End"
                                                                  Immediate="true" />
                                                </MudItem>
                                            </MudGrid>
                                        </MudField>
                                    </MudItem>
                                    <!--Expedição de Mandado-->
                                    <MudItem xs="12" sm="6" md="3">
                                        <MudField Label="Expediu Mandado?" Variant="Variant.Outlined" InnerPadding="false">
                                            <MudRadioGroup @bind-SelectedOption="@novoRegistro.Inquerito.ExpedicaoMandado">
                                                <MudRadio Option="@("SIM")" Color="Color.Primary">Sim</MudRadio>
                                                <MudRadio Option="@("NAO")" Color="Color.Primary">Não</MudRadio>
                                            </MudRadioGroup>
                                        </MudField>
                                    </MudItem>
                                    <!--Houve Cumprimento-->
                                    <MudItem xs="12" sm="6" md="3">
                                        <MudField Label="Houve Cumprimento?" Variant="Variant.Outlined" InnerPadding="false">
                                            <MudRadioGroup @bind-SelectedOption="@novoRegistro.Inquerito.CumprimentoMandado">
                                                <MudRadio Option="@("SIM")" Color="Color.Primary">Sim</MudRadio>
                                                <MudRadio Option="@("NAO")" Color="Color.Primary">Não</MudRadio>
                                            </MudRadioGroup>
                                        </MudField>
                                    </MudItem>
                                    <!--Unidade Policial Responsável-->
                                    <MudItem xs="12" sm="6" md="6">
                                        <MudAutocomplete T="string" Label="Unidade Policial Responsável" Variant="Variant.Outlined" @bind-Value="@novoRegistro.Inquerito.UnidadePC"
                                                            SearchFunc="@UnidadePC" />
                                    </MudItem>
                                    <!--Data de Conclusão-->
                                    <MudItem xs="12" sm="6" md="3">
                                        <MudPaper Class="pa-2 mx-2" Elevation="0">
                                            <MudDatePicker Label="Data Conclusão"
                                                           DisableToolbar="true"
                                                           DateFormat="dd/MM/yyyy"
                                                           AllowKeyboardInput="true"
                                                           MaxDate="DateTime.Now"
                                                           @bind-Date="@novoRegistro.Inquerito.DataConclusao" />

                                        </MudPaper>
                                    </MudItem>
                                    <!--Nº Of/CI Remessa-->
                                    <MudItem xs="12" sm="6" md="6">
                                        <MudTextField @bind-Value="@novoRegistro.Inquerito.NumOfRemessa"
                                                      Label="Nº Of./Ci Remessa"
                                                      Variant="Variant.Outlined"
                                                      Adornment="Adornment.End"
                                                      Immediate="true" />
                                    </MudItem>
                                    <!--Destino-->
                                    <MudItem xs="12" sm="6" md="3">
                                        <MudSelect T="string" Label="Destino" Variant="Variant.Outlined" @bind-Value="@novoRegistro.Inquerito.Destino">
                                            <MudSelectItem Value="@("MINISTERIO PUBLICO")" />
                                            <MudSelectItem Value="@("COORDPPOL")" />
                                            <MudSelectItem Value="@("PODER JUDICIARIO")" />
                                            <MudSelectItem Value="@("OUTROS")" />
                                        </MudSelect>
                                    </MudItem>
                                    <!--Autoridade Policial Responsável pela Investigação-->
                                    <MudItem xs="12" sm="6" md="8">
                                        <MudAutocomplete T="string" Label="Autoridade Policial Responsável pela Investigação" Variant="Variant.Outlined" @bind-Value="@novoRegistro.Inquerito.AutoridadeResponsavel"
                                                            SearchFunc="@AutoridadeResponsavel" />
                                    </MudItem>
                                    <!--Matrícula-->
                                    <MudItem xs="12" sm="6" md="4">
                                        <MudTextField @bind-Value="@novoRegistro.Inquerito.MatriculaAutoridadeResponsavel"
                                                      Label="Matrícula"
                                                      Variant="Variant.Outlined"
                                                      Adornment="Adornment.End"
                                                      Immediate="true" />
                                    </MudItem>
                                </MudGrid>
                            </MudPaper>
                        </MudText>
                    </MudTabPanel>
                    <!--Arquivos-->
                    <MudTabPanel Text="Arquivos">
                        <MudText>
                            <MudGrid>
                                <MudItem xs="12">
                                    <InputFile id="upload" OnChange="UploadArquivos" multiple hidden/>
                                    <MudTable Items="@listaArquivos" Dense="true" Hover="true" Striped="true" Height="400px">
                                        <ToolBarContent>
                                            <MudText Typo="Typo.subtitle2">Lista de Arquivos</MudText>
                                            <MudSpacer />
                                            <MudTooltip Text="Adicionar" Arrow="true" Placement="Placement.Left">
                                                <MudIconButton for="upload" HtmlTag="label" Color="Color.Primary" Icon="@Icons.Material.Filled.UploadFile" Size="Size.Large" Class="ma-2" />
                                            </MudTooltip>
                                            <MudTooltip Text="Limpar Tudo" Arrow="true" Placement="Placement.Right">
                                                <MudIconButton OnClick="@listaArquivos.Clear" Disabled="@(!listaArquivos.Any())" Icon="@Icons.Filled.ClearAll" Color="Color.Error" Size="Size.Large" Class="ma-2" />
                                            </MudTooltip>
                                        </ToolBarContent>
                                        <HeaderContent>
                                            <MudTh>Nome do Arquivo</MudTh>
                                            <MudTh>Tipo</MudTh>
                                            <MudTh>Adicionado em</MudTh>
                                            <MudTh>Ações</MudTh>
                                        </HeaderContent>
                                        <RowTemplate Context="listaArquivos">
                                            <MudTd DataLabel="Nome do Arquivo">@listaArquivos.NomeArquivo</MudTd>
                                            <MudTd DataLabel="Tipo">
                                                @switch(@listaArquivos.TipoArquivo)
                                                {
                                                    case "pdf":
                                                        <MudChip Icon="@Icons.Custom.FileFormats.FilePdf" Class="chipTransparente" IconColor="Color.Error" IconSize="Size.Large"/>
                                                        break;
                                                    case "docx" or "doc":
                                                        <MudChip Icon="@Icons.Custom.FileFormats.FileWord" Class="chipTransparente" IconColor="Color.Info" Size="Size.Large"/>
                                                        break;
                                                    case "xlsx" or "xls":
                                                        <MudChip Icon="@Icons.Custom.FileFormats.FileExcel" Class="chipTransparente" IconColor="Color.Tertiary" Size="Size.Large"/>
                                                        break;
                                                    case "png" or "jpg" or "jpeg":
                                                        <MudChip Icon="@Icons.Custom.FileFormats.FileImage" Class="chipTransparente" IconColor="Color.Primary" Size="Size.Large"/>
                                                        break;
                                                    default:
                                                        <MudChip Icon="@Icons.Custom.FileFormats.FileDocument" Class="chipTransparente" IconColor="Color.Default" Size="Size.Large"/>
                                                        break;
                                                }
                                            </MudTd>
                                            <MudTd DataLabel="Adicionado em">@listaArquivos.CriacaoArquivo.Value.ToString("g")</MudTd>
                                            <MudTd DataLabel="Ações">
                                                <MudTooltip Text="Baixar" Arrow="true" Placement="Placement.Top">
                                                    <MudIconButton @onclick="(()=> BaixarArquivo(listaArquivos))" Icon="@Icons.Filled.FileDownload" Color="Color.Primary" />
                                                </MudTooltip>
                                                <MudTooltip Text="Excluir" Arrow="true" Placement="Placement.Right">
                                                    <MudIconButton @onclick="(()=> ExcluirArquivo(listaArquivos))" Icon="@Icons.Material.Filled.Delete" Color="Color.Error" />
                                                </MudTooltip>
                                            </MudTd>
                                        </RowTemplate>
                                    </MudTable>
                                </MudItem>
                            </MudGrid>
                        </MudText>
                    </MudTabPanel>
                </MudTabs>
            </MudItem>
            <!--Botões-->
            <MudItem xs="6">
                <MudButton OnClick="Home" Variant="Variant.Filled" Color="Color.Secondary" FullWidth="true">Cancelar</MudButton>
            </MudItem>
            <MudItem xs="6">
                <MudButton OnClick="SalvarRegistro" Variant="Variant.Filled" Color="Color.Primary" FullWidth="true">Salvar</MudButton>
            </MudItem>
        </MudGrid>
    </MudContainer>
</EditForm>


@code {

    private List<BreadcrumbItem> _items = new List<BreadcrumbItem>
    {
        new BreadcrumbItem("Home", href: "/"),
        new BreadcrumbItem("Novo Registro", href: null, disabled: true)
    };

    [CascadingParameter] public IModalService Modal { get; set; }

    public List<NovoEnvolvido> listaEnvolvidos { get; set; } = new List<NovoEnvolvido> { };

    public List<NovoBoe> listaBOEComplementados { get; set; } = new List<NovoBoe> { };

    public List<NovoArquivo> listaArquivos { get; set; } = new List<NovoArquivo> { };

    public NovoRegistro novoRegistro = new NovoRegistro
    {
        Fato = new NovoFato(),
        Envolvidos = new List<NovoEnvolvido>(),
        Inquerito = new NovoInquerito(),
        BoeComplementados = new List<NovoBoe>(),
        Arquivos = new List<NovoArquivo>()
    };

    public async Task<ExibirUsuario> ObterUsuarioLogadoNoSistema()
    {
        return await localStorage.GetItemAsync<ExibirUsuario>("usuario");
    }

    void AdicionarListasNoRegistro()
    {
        novoRegistro.Envolvidos = listaEnvolvidos;
        novoRegistro.BoeComplementados = listaBOEComplementados;
        novoRegistro.Arquivos = listaArquivos;
    }

    protected async Task SalvarRegistro()
    {
        var usuarioLogado = await ObterUsuarioLogadoNoSistema();
        novoRegistro.UsuarioRegistro = usuarioLogado.Nome;

        AdicionarListasNoRegistro();

        var request = new HttpRequestMessage(HttpMethod.Post, "https://localhost:44343/api/v1/Registro/novo-registro");
        request.Content = new StringContent(JsonSerializer.Serialize(novoRegistro, new JsonSerializerOptions { Converters = { new TimeSpanJsonConverter() } }), Encoding.UTF8, "application/json");
        request.Headers.Authorization = new AuthenticationHeaderValue("Bearer", usuarioLogado.Token);
        var response = await httpClient.SendAsync(request);

        if (response.IsSuccessStatusCode)
        {
            snackbar.Add("Registro Salvo!", Severity.Success);
            navigationManager.NavigateTo("/");
        }
        else
        {
            snackbar.Add("O Registro não foi Salvo!", Severity.Error);
        }
    }

    void Home() => navigationManager.NavigateTo("/");

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            await JS.InvokeVoidAsync("masks");
        }
    }

    //Envolvido
    async Task AdicionarEnvolvido()
    {
        var formModal = Modal.Show<Envolvido>("Adicionar Envolvido");
        var result = await formModal.Result;

        if (result.Cancelled)
        {
            snackbar.Add("Não foi adicionado nenhum Envolvido!", Severity.Info);
        }
        else
        {
            var novoEnvolvido = (NovoEnvolvido)(Convert.ChangeType(result.Data, typeof(NovoEnvolvido)));
            AdicionarNumeroSequencial();
            novoEnvolvido.SequencialEnvolvido = sequencial;
            listaEnvolvidos.Add(novoEnvolvido);
            snackbar.Add("Envolvido adicionado!", Severity.Success);
            StateHasChanged();
        }
    }
    
    int sequencial;
    
    void AdicionarNumeroSequencial()
    {
        if(listaEnvolvidos.Count() == 0)
        {
            sequencial = 1;
        }
        else
        {
            var qtd =  listaEnvolvidos.Count();
            qtd++;
            sequencial = qtd; 
        }
    }

    async Task EditarEnvolvido(NovoEnvolvido novoEnvolvido)
    {
        var parameters = new ModalParameters();
        parameters.Add("novoEnvolvido", novoEnvolvido);

        var formModal = Modal.Show<Envolvido>("Alterar Envolvido", parameters);
        var result = await formModal.Result;

        if (result.Cancelled)
        {
            snackbar.Add("Envolvido não foi alterado!", Severity.Normal);
        }
        else
        {
            snackbar.Add("Envolvido alterado!", Severity.Info);
            StateHasChanged();
        }
    }

    void ExcluirEnvolvido(NovoEnvolvido envolvido)
    {
        listaEnvolvidos.Remove(envolvido);
        snackbar.Add("Envolvido removido!", Severity.Warning);
    }

    //BOEComplementado
    async Task AdicionarBOEComplementado()
    {
        var formModal = Modal.Show<BOEComplementado>("Adicionar BOE Complementado");
        var result = await formModal.Result;

        if (result.Cancelled)
        {
            snackbar.Add("Não foi adicionado nenhum BOE Complementado!", Severity.Normal);
        }
        else
        {
            listaBOEComplementados.Add((NovoBoe)(Convert.ChangeType(result.Data, typeof(NovoBoe))));
            snackbar.Add("BOE Complementado adicionado!", Severity.Success);
            StateHasChanged();
        }
    }

    async Task EditarBOEComplementado(NovoBoe novoBOEComplementado)
    {
        var parameters = new ModalParameters();
        parameters.Add("novoBOEComplementado", novoBOEComplementado);

        var formModal = Modal.Show<BOEComplementado>("Alterar BOE Complementado", parameters);
        var result = await formModal.Result;

        if (result.Cancelled)
        {
            snackbar.Add("BOE Complementado não foi Alterado!", Severity.Normal);
        }
        else
        {
            snackbar.Add("BOE Complementado alterado!", Severity.Info);
            StateHasChanged();
        }
    }

    void ExcluirBOEComplementado(NovoBoe boeComplementado)
    {
        listaBOEComplementados.Remove(boeComplementado);
        snackbar.Add("BOE Complementado removido!", Severity.Warning);
    }

    //Municípios
    private async Task<IEnumerable<Municipio_Diretoria_AIS_BPM>> Municipios(string value)
    {
        var usuarioLogado = await ObterUsuarioLogadoNoSistema();

        var request = new HttpRequestMessage(HttpMethod.Get, "https://localhost:44343/api/v1/Municipio_Diretoria_AIS_BPM");
        request.Headers.Authorization = new AuthenticationHeaderValue("Bearer", usuarioLogado.Token);
        var response = await httpClient.SendAsync(request);

        var municipios = JsonSerializer.Deserialize<List<Municipio_Diretoria_AIS_BPM>>
        (
            await response.Content.ReadAsStringAsync(),
            new JsonSerializerOptions { PropertyNameCaseInsensitive = true }
        );

        if (string.IsNullOrEmpty(value))
            return municipios;
        return municipios.Where(x => x.Municipio.Contains(value, StringComparison.InvariantCultureIgnoreCase));
    }

    //Local do Fato
    private string[] localFato =
    {
        "ACADEMIA", "ACUDE", "AERONAVE", "AEROPORTO",
        "AGENCIA DOS CORREIOS", "APARTAMENTO", "AREA MILITAR FEDERAL", "ASILO",
        "ASSENTAMENTO", "ASSOCIACAO", "AVIAO", "BANCA DE REVISTA/FITEIRO",
        "BANCO (AGENCIA BANCARIA)", "BAR", "BILHETERIA", "CAIXA ELETRONICO",
        "CALCADA",  "CALCADAO", "CAMPO DE FUTEBOL", "CANAVIAL", "CARRO-FORTE",
        "CASA DE ACOLHIMENTO (MENOR)",  "CASA DE CACA/PESCA",   "CASA DE SHOW",
        "CASA LOTERICA",    "CASA NOTURNA(BOATE/DANCETERIA)",   "CEMITERIO",
        "CENTRAL DE ABASTECIMENTO", "CENTRO DE CONVENCOES", "CHACARA",
        "CICLOVIA/CICLO FAIXA", "CINEMA", "CLUBE",    "COLONIA",  "COMPOSICAO FERREA",
        "CONDOMINIO DE CASAS",  "CONSULADO", "CONSULTORIO",  "CORREGO",  "CRECHE",
        "CRUZAMENTO",   "DELEGACIA DE POLICIA", "EDIFICIO / CONDOMINIO COMERCIAL",
        "EDIFICIO / CONDOMINIO MISTO",  "EDIFICIO/CONDOMINIO RESIDENCIAL",
        "EM FRENTE DA RESIDENCIA",  "EMBARCACAO",   "EMPRESA",  "ENGENHO",
        "ESCRITORIO",   "ESTABELECIMENTO COMERCIAL",    "ESTABELECIMENTO DE ENSINO SUPERIOR",
        "ESTABELECIMENTO ENSINO PARTICULAR-1º E 2º GRAU",
        "ESTABELECIMENTO ENSINO PUBLICO ESTADUAL-1º E 2º GRAU",
        "ESTABELECIMENTO ENSINO PUBLICO MUNICIPAL-1º E 2º GRAU",    "ESTABELECIMENTO PENAL",
        "ESTACAO DE TREM / METRO",  "ESTACIONAMENTO",   "ESTADIO",
        "ESTAÇÃO DE B.R.T", "FARMACIA / DROGARIA",  "FAVELA",   "FAZENDA",  "FEIRA LIVRE",
        "GALPAO",   "GARAGEM",  "GINASIO",  "HOSPITAL", "HOTEL",    "IGREJA / TEMPLOS", "INDUSTRIA",
        "INSTITUICOES FINANCEIRAS", "INTERNET", "JARDIM ZOOLÓGICO", "JOALHARIA",
        "LAGOA",    "LANCHONETE",   "LIVRARIA", "LIXAO",    "LOCAL ERMO / TERRENO BALDIO",
        "LOCAL INDETERMINADO / DESCONHECIDO",   "LOMBADA",  "LOTACAO",  "MANGUEZAL",
        "OUTROS ESTABELECIMENTOS DE DIVERSAO",  "OUTROS ESTABELECIMENTOS DE SAUDE",
        "PADARIA",  "PARADA DE ONIBUS", "PARQUE DE DIVERSAO",   "PARQUE DE EXPOSICAO",
        "PARQUE PUBLICO",   "PIZZARIA", "POCO", "PONTE",    "PORTO",    "POSTO DE GASOLINA",
        "POUSADA",  "PRACA PUBLICA",    "PRAIA",    "PREDIO PUBLICO",   "PROPRIEDADE RURAL",
        "QUADRA ESPORTIVA", "QUARTEL",  "REPARTICOES PUBLICAS", "RESIDENCIA ( APARTAMENTO )",
        "RESIDENCIA ( TERREA )",    "RESTAURANTE",  "RIO",  "RODOVIA",  "RODOVIA ESTADUAL",
        "VIA PUBLICA",
    };

    private async Task<IEnumerable<string>> LocalFato(string value)
    {
        await Task.Delay(1);
        if (string.IsNullOrEmpty(value))
            return localFato;
        return localFato.Where(x => x.Contains(value, StringComparison.InvariantCultureIgnoreCase));
    }

    //UnidadePC
    private string[] unidadePC =
    {
        "1ª - RIO BRANCO",
        "2ª - BOA VISTA",
        "3ª - JOANA BEZERRA",
        "4ª - ESPINHEIRO",
        "5ª - CASA AMARELA",
        "6ª - CORDEIRO",
        "7ª - BOA VIAGEM",
        "8ª - JORDAO",
        "9ª - IPSEP",
        "10ª - IBURA",
        "11ª - AFOGADOS",
        "12ª - JARDIM SAO PAULO",
        "13ª - MUSTARDINHA",
        "14ª - VARZEA",
        "15ª - ALTO DO PASCOAL",
        "16ª - AGUA FRIA",
        "17ª - VASCO DA GAMA",
        "18ª - MACAXEIRA",
        "19ª - PRAZERES",
        "19ª - MURIBECA",
        "20ª - JABOATAO DOS GUARARAPES",
        "21ª - MORENO",
        "22ª - PIEDADE",
        "23ª - CAVALEIRO",
        "24ª - VARADOURO",
        "25ª - PEIXINHOS",
        "26ª - RIO DOCE",
        "27ª - ABREU E LIMA",
        "28ª - PAULISTA",
        "29ª - IGARASSU",
        "30ª - ITAMARACA",
        "31ª - ITAPISSUMA",
        "32ª - ENGENHO MARANGUAPE",
        "33ª - CRUZ DE REBOUCAS",
        "34ª - MARIA FARINHA",
        "35ª - ARACOIABA",
        "36ª - FERNANDO DE NORONHA",
        "37ª - CAMARAGIBE",
        "38ª - SAO LOURENCO DA MATA",
        "39ª - ALDEIA",
        "40ª - CABO DE SANTO AGOSTINHO",
        "41ª - PONTE DOS CARVALHOS",
        "42ª - IPOJUCA",
        "43ª - PORTO DE GALINHAS",
        "44ª - GOIANA",
        "45ª - CARPINA",
        "46ª - TIMBAUBA",
        "47ª - PAUDALHO",
        "48ª - ALIANCA",
        "49ª - ITAMBE",
        "50ª - NAZARE DA MATA",
        "51ª - VICENCIA",
        "52ª - MACAPARANA",
        "53ª - CONDADO",
        "54ª - LAGOA DE ITAENGA",
        "55ª - ITAQUITINGA",
        "56ª - LAGOA DO CARRO",
        "57ª - TRACUNHAEM",
        "58ª - BUENOS AIRES",
        "59ª - FERREIROS",
        "60ª - CAMUTANGA",
        "61ª - VITORIA DE SANTO ANTAO",
        "62ª - GRAVATA",
        "63ª - ESCADA",
        "64ª - GLORIA DO GOITA",
        "65ª - POMBOS",
        "66ª - AMARAJI",
        "67ª - CHA GRANDE",
        "68ª - PRIMAVERA",
        "69ª - CHA DE ALEGRIA",
        "70ª - PALMARES",
        "71ª - RIBEIRAO",
        "72ª - BARREIROS",
        "73ª - SERINHAEM",
        "74ª - CATENDE",
        "75ª - AGUA PRETA",
        "76ª - GAMELEIRA",
        "77ª - QUIPAPA",
        "78ª - RIO FORMOSO",
        "79ª - TAMANDARE",
        "80ª - JOAQUIM NABUCO",
        "81ª - MARAIAL",
        "82ª - SAO JOSE DA COROA GRANDE",
        "83ª - XEXEU",
        "84ª - CORTES",
        "85ª - JAQUEIRA",
        "86ª - BELEM DE MARIA",
        "87ª - SAO BENEDITO DO SUL",
        "88ª - CARUARU",
        "89ª - CARUARU",
        "90ª - CARUARU",
        "91ª - BEZERROS",
        "92ª - BONITO",
        "93ª - PANELAS",
        "94ª - CUPIRA",
        "95ª - ALTINHO",
        "96ª - AGRESTINA",
        "97ª - SAO JOAQUIM DO MONTE",
        "98ª - RIACHO DAS ALMAS",
        "99ª - LAGOA DOS GATOS",
        "100ª - CAMOCIM DE SAO FELIX",
        "101ª - SAIRE",
        "102ª - BARRA DE GUABIRABA",
        "103ª - IBIRAJUBA",
        "104ª - BELO JARDIM",
        "105ª - PESQUEIRA",
        "106ª - SAO BENTO DO UMA",
        "107ª - BREJO DA MADRE DE DEUS",
        "108ª - SAO CAETANO",
        "109ª - CACHOEIRINHA",
        "110ª - SANHARO",
        "111ª - JATAUBA",
        "112ª - TACAIMBO",
        "113ª - ALAGOINHA",
        "114ª - POCAO",
        "115ª - LLIMOEIRO",
        "116ª - SURUBIM",
        "117ª - BOM JARDIM",
        "118ª - PASSIRA",
        "119ª - CUMARU",
        "120ª - JOAO ALFREDO",
        "121ª - OROBO",
        "122ª - FEIRA NOVA",
        "123ª - SAO VICENTE FERRER",
        "124ª - CASINHAS",
        "125ª - MACHADOS",
        "126ª - VERTENTE DO LERIO",
        "127ª - SALGADINHO",
        "128ª - SANTA CRUZ DO CAPIBARIBE",
        "129ª - TORITAMA",
        "130ª - TAQUARITINGA DO NORTE",
        "131ª - VERTENTES",
        "132ª - FREI MIGUELINHO",
        "133ª - SANTA MARIA DO CAMBUCA",
        "134ª - GARANHUNS",
        "135ª - GARANHUNS",
        "136ª - BOM CONSELHO",
        "137ª - AGUAS BELAS",
        "138ª - LAJEDO",
        "139ª - CANHOTINHO",
        "140ª - CAETES",
        "141ª - SAO JOAO",
        "142ª - CAPOEIRAS",
        "143ª - IATI",
        "144ª - CORRENTES",
        "145ª - SALOA",
        "146ª - JUREMA",
        "147ª - JUPI",
        "148ª - CALCADOS",
        "149ª - LAGOA DO OURO",
        "150ª - PARANATAMA",
        "151ª - JUCATI",
        "152ª - PALMERINA",
        "153ª - ANJELIM",
        "154ª - BREJAO",
        "155ª - TEREZINHA",
        "156ª - ARCOVERDE",
        "157ª - BUIQUE",
        "158ª - SERTANIA",
        "159ª - CUSTODIA",
        "160ª - ITAIBA",
        "161ª - IBIMIRIM",
        "162ª - TUPANATINGA",
        "163ª - PEDRA",
        "164ª - VENTUROSA",
        "165ª - INAJA",
        "166ª - MANARI",
        "167ª - AFOGADOS DA INGAZEIRA",
        "168ª - SAO JOSE DO EGITO",
        "169ª - TABIRA",
        "170ª - ITAPETIM",
        "171ª - IGUARACI",
        "172ª - SANTA TEREZINHA",
        "173ª - TUPARETAMA",
        "174ª - BREJINHO",
        "175ª - SOLIDAO",
        "176ª - INGAZEIRA",
        "177ª - SERRA TALHADA",
        "178ª - SAO JOSE DO BELMONTE",
        "179ª - FLORES",
        "180ª - CARNAIBA",
        "181ª - TRIUNFO",
        "182ª - BETANIA",
        "183ª - SANTA CRUZ DA BAIXA VERDE",
        "184ª - CALUMBI",
        "185ª - QUIXABA",
        "186ª - PETROLANDIA",
        "187ª - FLORESTA",
        "188ª - BELEM DE SAO FRANCISCO",
        "189ª - TACARATU",
        "190ª - JATOBA",
        "191ª - CARNAUBEIRA DA PENHA",
        "192ª - ITACURUBA",
        "193ª - SALGUEIRO",
        "194ª - PARNAMIRIM",
        "195ª - SERRITA",
        "196ª - MIRANDIBA",
        "197ª - CEDRO",
        "198ª - VERDEJANTE",
        "199ª - TERRA NOVA",
        "200ª - ARARIPINA",
        "201ª - OURICURI",
        "202ª - EXU",
        "203ª - BODOCO",
        "204ª - IPUBI",
        "205ª - TRINDADE",
        "206ª - SANTA FILOMENA",
        "207ª – SANTA CRUZ DE MALTA",
        "208ª - MOREILANDIA",
        "209ª - GRANITO",
        "210ª - SANTA MARIA DA BOA VISTA",
        "211ª - CABROBO",
        "212ª - OROCO",
        "213ª - PETROLINA",
        "214ª - PETROLINA",
        "215ª - LAGOA GRANDE",
        "216ª - AFRANIO",
        "217ª - DORMENTES"

    };

    private async Task<IEnumerable<string>> UnidadePC(string value)
    {
        await Task.Delay(1);
        if (string.IsNullOrEmpty(value))
            return unidadePC;
        return unidadePC.Where(x => x.Contains(value, StringComparison.InvariantCultureIgnoreCase));
    }

    //AutoridadeResponsavel
    private string[] autoridadeResponsavel =
    {
        "ABRAAO FRANCA DIDIER",
        "ADEMAR CANDIDO DE OLIVEIRA",
        "ADYR MARTENS DE ALMEIDA",
        "AILTON JUNIOR DE OLIVEIRA SILVA",
        "ALAUMO GOMES DE LIMA",
        "ALBERES CRISTIANY COSTA",
        "ALBERES FELIX DE SOUSA",
        "ALBERICO PIRES FERREIRA",
        "ALCILENE MESSIAS MARQUES CAVALCANTI",
        "ALDECI JOSE DA SILVA",
        "ALESSANDRA RAMOS BRITO COELHO",
        "ALESSANDRO MENEZES ORICO",
        "ALEX DE SA MATIAS",
        "ALEXANDRE BARROS DA FONSECA",
        "ALEXANDRE GUSTAVO SANTOS VERAS",
        "ALEXANDRE HENRIQUE TEOFILO DE OLIVEIRA",
        "ALEXANDRE MAGNO PRATES",
        "ALFREDO JORGE SANTOS ARAUJO",
        "ALLISON NUNES EULAMPIO",
        "ALTEMAR MAMEDE LEITE",
        "ALVARO CRISTIANO PORPINO MUNIZ",
        "ALVARO GRAKO LIRA MELO DE ALBUQUERQUE",
        "ALYSSON ELVIS OLIVEIRA CAMARA",
        "ANA AMELIA DE CARVALHO COELHO",
        "ANA CAROLINA GUERRA PEREIRA",
        "ANA CATARINE DE LIMA CAVALCANTI",
        "ANA LUCIA MONGINI",
        "ANA LUIZA DE MENDONCA FONSECA CARLOS",
        "ANDRE BELTRAO GADELHA DE SA",
        "ANDRE RUBENS DE LIMA LUNA",
        "ANDREA MARIA DE FARIAS E MELO",
        "ANDREI FRAGOSO ROCHA DE OLIVEIRA",
        "ANDREZA GREGORIO LIMA",
        "ANETE COUTINHO DE SENA MARQUES",
        "ANGELA PATRICIA FERNANDES DA SILVA",
        "ANTONIA ERANDY FERNANDES LEITE LOPES",
        "ANTONIO CARLOS BESERRA",
        "ANTONIO DE CAMPOS FRANCISCO",
        "ANTONIO GABRIEL HONORATO RESENDE",
        "ANTONIO JUNIOR DE LIMA E SILVA",
        "ANTONIO LUIZ PEREIRA DUTRA",
        "ARIOSTO ESTEVES",
        "ARLINDO SEVERINO TEIXEIRA DE OLIVEIRA",
        "AUGUSTO CEZAR LOPES CUNHA",
        "AUGUSTO CLERISTON DE CASTRO LUSTOSA ANGELIM",
        "AUGUSTO FONSECA VELOSO",
        "BARBARA ALICE FORT DOS SANTOS",
        "BEATRIZ CRISTINA FAKIH LEITE MARQUES",
        "BEATRIZ GIBSON CUNHA DE SANTANA",
        "BRENO AUGUSTO DE MELO BARBOSA",
        "BRENO MAIA DA SILVEIRA BARROS",
        "BRENO VAREJAO DE AZEVEDO",
        "BRUNA CAVALCANTI FALCAO",
        "BRUNO DE UGALDE MELLO",
        "BRUNO GABRIEL ANDRADE DE OLIVEIRA",
        "BRUNO MARCIO DE AMORIM MAGALHAES",
        "BRUNO VITAL MOTA DE ANDRADE",
        "CAIO CEZAR CARVALHO DE ARAUJO",
        "CAIO WAGNER SIQUEIRA DE MORAIS",
        "CAMMILLA LYDIA GONCALVES FIGUEIREDO LOBO",
        "CARLOS ANTONIO COUTO FERRAZ DE CASTRO",
        "CARLOS JOSE BARBOSA DE LIMA",
        "CARLOS SANTANA FERREIRA GUIMARAES",
        "CARMEM LUCIA DE OLIVEIRA SILVA",
        "CAROLINA DIAS MARTINS DA ROSA E SILVA",
        "CAROLINE QUAGLIATO ROVERI",
        "CHARLES GULTIERGUE FREIRE DE OLIVEIRA",
        "CLAUDIO ALVES DA SILVA NETO",
        "CLEIDENI MORAIS DOS SANTOS",
        "CLEY ANDERSON DE QUEIROZ RODRIGUES",
        "CRISTINA GOMES DOS SANTOS",
        "DANIEL ANGELI DE ALMEIDA",
        "DANIEL LIRA PIMENTEL",
        "DANIEL MOREIRA DE SOUZA",
        "DANUBIA FABIANA SILVA DE ANDRADE VITAL",
        "DARK BLACKER DE ANDRADE",
        "DARLEY KLEBER TIMOTEO FLORENTINO",
        "DAVID MEDEIROS FERREIRA DE FARIAS",
        "DAVIDSON DANIEL LEAL VASCONCELOS",
        "DEBORA BANDEIRA DE MELO TENORIO",
        "DERIVALDO LIRA FALCAO",
        "DIEGO CAVALCANTI DE ALBUQUERQUE ACIOLI LINS",
        "DIEGO JARDIM FEITOSA",
        "DIEGO PINHEIRO DE SOUZA",
        "DIOGO FARIA DE ALMEIDA",
        "DIOGO GONCALVES BEM",
        "DIOGO MELO VICTOR",
        "DIOGO SANTIAGO BARBOSA PONTES",
        "DOUGLAS CAMILO PEREIRA",
        "EDENILSON JOSE DE MATOS",
        "EDMILSON BATISTA FERREIRA JUNIOR",
        "EDNALDO DE ARAUJO DA SILVA",
        "EDNALDO MOSCOSO BORGES",
        "EDSON AUGUSTO LINS DE ANDRADE",
        "EDUARDO ALBERTO VILHENA SARAIVA",
        "EDUARDO KENICHI SUNAGA",
        "EDVALDO DOS SANTOS VEIGA JUNIOR",
        "ELDER BEZERRA TAVARES DA SILVA",
        "ELIANA MACEDO BEZERRA REYNALDO",
        "ELIANE CALDAS LIRA",
        "ELIELTON BARBOSA DA SILVA XAVIER",
        "ELIOENAI DIAS SANTOS FILHO",
        "ELSIMAR FRAGA DA SILVA",
        "ELSON LIMA DE GOUVEIA",
        "ELTON ROBERTO RODRIGUES JUNIOR",
        "EMANOEL VICTOR DO NASCIMENTO",
        "EMANUEL LUCIANO CALDAS DE SA",
        "ENIO DA SILVA MAIA",
        "ERALDO ALVES DOS SANTOS",
        "ERIC COSTA CANDIDO",
        "ERICA FONSECA MATIAS AGUIAR FEITOSA",
        "ERIVALDO DE ARRUDA GUERRA",
        "ERMIRIO DE AZEVEDO SOUZA NETO",
        "ERNANDE FRANCISCO DA SILVA",
        "ERNESTO NOVAES PRIMO",
        "ERONIDES ALVES DE MENESES JUNIOR",
        "ERONILDO RODOLFO DE FARIAS",
        "ESTEFANIA SANTANA DE AZEVEDO",
        "EURICELIA BATISTA NOGUEIRA",
        "EVARISTO FERREIRA NETO",
        "EVELTON BARBOSA DA SILVA XAVIER",
        "FABIANA FERREIRA LEANDRO",
        "FABIANA GARCIA CAMARGO MENEZES",
        "FABIO LACERDA MACHADO",
        "FABIO LUIZ REBELO DE CARVALHO",
        "FABIOLA MARIA OLIVEIRA COSTA",
        "FABRICIO PIMENTEL LOURENCO DE LIMA",
        "FABRICIUS FERREIRA SILVA",
        "FAUZER CARNEIRO GARRIDO PALITOT",
        "FELIPE MONTEIRO COSTA",
        "FELIPE OLIVEIRA PINHEIRO",
        "FERNANDO HENRIQUE TEIXEIRA ELIAS",
        "FLAUBERT LEITE QUEIROZ",
        "FLAVIA DE ALBUQUERQUE SILVA",
        "FLAVIO ANDERSON LIBERATO ALVES DO NASCIMENTO",
        "FLAVIO MARCEL SOROLLA",
        "FLAVIO TAU DE SOUZA CAMPOS",
        "FRANCISCA POLYANNA DA SILVA NERI",
        "FRANCISCO JUNIOR VASCONCELOS SANTOS",
        "FRANCISCO LUCEGENES LUCENA DIOGENES",
        "FRANCISCO OCELIO LIMA RIBEIRO",
        "FRANCISCO RODRIGUES DOS SANTOS FILHO",
        "FRANCISCO WALDO MENEZES UCHOA SARAIVA",
        "FREDERICO MARCELO CASTRO DO REGO BARROS",
        "FREDERICO VICTOR LAPENDA DE OLIVEIRA",
        "GABRIEL MARCIO PASSOS CARVALHO BAHIA SAPUCAIA",
        "GABRIELLE NISHIDA SANTOS",
        "GENEZIL AGUIAR COELHO DE MOURA",
        "GENIVALDO NASCIMENTO DE MELO",
        "GEORGE DANTAS SARAIVA",
        "GERALDO SILVA DA COSTA",
        "GERMANO ADEMIR DE SOUZA LIMA",
        "GERMANO CUNHA BEZERRA",
        "GILBERTO LOYO DE MEIRA LINS NETO",
        "GILDERLEY ALVES GONDIM",
        "GILMAR RODRIGUES DOS SANTOS",
        "GLAUKUS ALESSANDRO LOPES PENNA MENCK",
        "GREGORIO LUCAS RIBEIRO SANTOS",
        "GUIDO LINS CAVALCANTI",
        "GUILHERME AUGUSTO CRUZ ANDRADE",
        "GUILHERME TELL DE ALCANTARA KERTH",
        "GUSTAVO GARCIA JONAS",
        "GUSTAVO RAMOS SILVA",
        "HALYSSON MOJI GOMES FERREIRA PONTES",
        "HELIANTHUS SOARES BEZERRA",
        "HENRIQUE JOSE FERREIRA DE PAIVA",
        "HERBERT WILLIAM ARANTES MARTINS",
        "HIGOR LUIS DE CARVALHO SILVA",
        "HILTON PEREIRA DE LIRA",
        "HUMBERTO DE FARIAS RAMOS",
        "IAN CAMPOS MOREIRA",
        "ICARO BARROS SCHNEIDER",
        "IGHOR NOGUEIRA SALES SANTIAGO",
        "IGOR TENORIO LEITE",
        "INALVA REGINA CAVENDISH MOREIRA",
        "ISABELA VERAS SOUSA PORPINO",
        "ISABELLA CABRAL FONSECA PESSOA",
        "ISRAEL LIMA BRAGA RUBIS",
        "IZAIAS ANTONIO NOVAES GONCALVES",
        "JADER MELQUIADES DE ARAUJO",
        "JAIDETE LIMA FERREIRA",
        "JAIR CRUZ DA SILVA",
        "JAMES KARLOS AFONSO QUEIROZ",
        "JEAN PIERRY BRITO",
        "JEOVA MIGUEL DA SILVA FILHO",
        "JESSICA TALITA ALVES RAMOS",
        "JESSICA ZUI BEZERRA DE ALMEIDA",
        "JIMENA GOUVEIA",
        "JOAO BOSCO ALVES DE SA",
        "JOAO CARLOS OLIVEIRA AZEVEDO",
        "JOAO FELIPE DE LIMA FURTADO",
        "JOAO GASPAR RIBEIRO DE SOUZA",
        "JOAO GUSTAVO DE GODOY FERRAZ",
        "JOAO PAULO DE ANDRADE",
        "JOAO PAULO FERREIRA MENDES",
        "JOAO PEDRO PINHEIRO RODRIGUES",
        "JOAQUIM MARINOSIO RODRIGUES BRAGA NETO",
        "JOEL JOSE VIEIRA",
        "JOMARIO GOMES DO CARMO",
        "JONAS ANTONIO FRAGA JUNIOR",
        "JORGE FERREIRA DE SOUZA",
        "JOSE ALEXANDRE AMORIM DA SILVA",
        "JOSE CUSTODIO DA SILVA JUNIOR",
        "JOSE DURVAL DE LEMOS LINS FILHO",
        "JOSE EYMARD DA SILVA COUTINHO FILHO",
        "JOSE FLAVIO PESSOA",
        "JOSE FRANKLIN RIBEIRO SORIANO JUNIOR",
        "JOSE HUMBERTO DANTAS PIMENTEL",
        "JOSE JOAO DE OLIVEIRA LINS",
        "JOSE LUZIA CORREIA FILHO",
        "JOSE NEWTON DE SOUZA",
        "JOSE OLEGARIO DE LIMA FILHO",
        "JOSE OLIVEIRA SILVESTRE JUNIOR",
        "JOSE RAIMUNDO BARBOSA DE ARRUDA",
        "JOSE RENATO GAYAO DE OLIVEIRA",
        "JOSEILTON SAMPAIO DA SILVA",
        "JOSINALDO CORREIA DE ALMEIDA",
        "JUDITE MARIA DOS SANTOS CORTIZO",
        "JULIANA GARCIA MELO",
        "JULIANA VIEIRA BERNAT DE SOUZA",
        "JULIO CESAR DA CRUZ PORTO",
        "JULLYARD BAQUIL DE SOUSA",
        "KAROLINE LIRA PEIXOTO DE SIQUEIRA ARCOVERDE",
        "KATYANNA ALENCAR MUNIZ LEITE",
        "KEILA LACERDA DE OLIVEIRA MAGALHAES GARCIA",
        "LAMARTINE SALVADOR FONTES FILHO",
        "LARISSA SOUZA DE MELO AZEDO",
        "LEONARDO MAX PEREIRA MONTEIRO",
        "LIANA MARIA DA FONSECA PARAIBA",
        "LIDIA MARA BARCI TELES DE ANDRADE",
        "LIGIA CARDOSO CORREIA SALES",
        "LIVIO MAGNO ALVES",
        "LUCIA DE FATIMA GOMES DE OLIVEIRA",
        "LUCIA MARIA CUSTODIO DE MELO",
        "LUCIANA ALMEIDA DA COSTA PONTES",
        "LUCIANO JOSE SIQUEIRA DA COSTA SILVA",
        "LUIZ ALBERTO BRAGA DE QUEIROZ",
        "LUIZ BERNARDO MORAES",
        "LUIZ CARLOS LINS",
        "MAGNNO FEITOSA CORREIA LIMA",
        "MAGNO SOUZA DAS NEVES",
        "MAMEDES XAVIER DE OLIVEIRA",
        "MANUEL ANTONIO ARAUJO MARTINS",
        "MARCELO ALMEIDA GUERRA",
        "MARCELO FERRAZ PIMENTEL",
        "MARCELO FRANCISCO DOS SANTOS SILVA",
        "MARCELO HENRIQUE CORDEIRO QUEIROZ",
        "MARCELO PAES BARRETO",
        "MARCELO PINTO PAES BARRETO",
        "MARCIO GEORGE COSTA MARTINS",
        "MARCIO JOSE DA CRUZ",
        "MARCONI LUSTOSA FELIX FILHO",
        "MARCOS ANTONIO OMENA FARIAS JUNIOR",
        "MARCOS CESAR BARBOSA MAGGI",
        "MARCOS DE CASTRO GUIMARAES JUNIOR",
        "MARCOS FIDELIS DA SILVA",
        "MARCOS ROBERTO DA SILVA",
        "MARCOS VINICIUS CORREIA ANICETO",
        "MARCOS VINICIUS NOBRE MUSIAL",
        "MARCOS VIRGINIO SOUTO",
        "MARCUS VICTOR DE ALMEIDA CAMURCA",
        "MARGARETH GALDINO ALBINA DA SILVA",
        "MARIA ALICE GALVAO DARCE ROQUE",
        "MARIA BETANIA DE FREITAS TAVARES",
        "MARIA DAS GRACAS ALVES CANUTO",
        "MARIA DE LOURDES FERREIRA DE ANDRADE",
        "MARIA DO SOCORRO VELOSO SOARES DA SILVA TORREAO",
        "MARIA EDUARDA SANTOS PESSOA DE MELO XAVIER",
        "MARIA ELIZABETH PATRIOTA DO REGO BARRETO",
        "MARIANA PONTES VILASBOAS FREITAS",
        "MARIO DE OLIVEIRA MELO JUNIOR",
        "MARISANDRA DE ALMEIDA PIMENTEL",
        "MARIVON GOMES DE VASCONCELO FILHO",
        "MARLON FROTA VIANA",
        "MAURO CABRAL DA CUNHA CAVALCANTI FILHO",
        "MOARY DRUMOND PIMENTA",
        "MOISES TEIXEIRA BARBOSA",
        "NATALIA DE SOUZA ARAUJO",
        "NATASHA DOLCI",
        "NEY LUIZ RODRIGUES",
        "ODILCES BRUNO MACHADO",
        "ODIVIO PESSOA DE VASCONCELOS",
        "OSIAS TIBURCIO FERNANDES DE MELO",
        "OTAVIO FERREIRA HENRIQUE JUNIOR",
        "PAOLLUS EDWARDO LEITE DE MENDONCA SANTOS",
        "PATRICIA DE OLIVEIRA DOMINGOS",
        "PATRICK ALLEN BUARQUE LEITE DIAS",
        "PATRICK MARINHO DOS SANTOS",
        "PAULO CRISTIANO RAMEH DE ALBUQUERQUE",
        "PAULO EDUARDO BICALHO CARVALHO",
        "PAULO FERNANDO DE OLIVEIRA SILVA",
        "PAULO FERNANDO NOGUEIRA",
        "PAULO GUSTAVO COELHO DIAS",
        "PAULO HENRIQUE GIL DE MEDEIROS",
        "PAULO JEANN BARROS SILVA",
        "PAULO JOSE PEREIRA DE MORAES",
        "PAULO ROBERTO REIS AMORIM FILHO",
        "PAULO ROBERTO VIANA LAPENDA",
        "PEDRO HENRIQUE DE OLIVEIRA BARROS",
        "PEDRO HENRIQUE NEVES COUTINHO DA SILVA",
        "PEDRO PAULO DA SILVA FIDELIS",
        "PEDRO SANTANA DE ARAUJO",
        "PETRUCIO DE PAULA JUCA",
        "PRISCILLA DE LIMA GOMES",
        "PRISCILLA VON SOHSTEN CALABRIA LIMA",
        "RAFAEL DUARTE COSTA",
        "RAMON CEZAR DA CUNHA TEIXEIRA",
        "RAPHAEL HENRIQUE DE SENA OLIVEIRA",
        "RAQUEL RABELO RAMALHO RAMOS",
        "RAUL CESAR JUNGES CARVALHO",
        "RENATA ARAUJO PINHEIRO GOMES",
        "RICARDO COSTA DE LIMA",
        "RICARDO CYSNEIROS DE ARAUJO PESSOA",
        "RICARDO SILVEIRA DE AZEVEDO",
        "RITA DE CASSIA VALENCA FERREIRA CASTRO",
        "ROBERTO DE LIMA FERREIRA",
        "ROBERTO DE SA CAMPOS",
        "ROBERTO FONSECA DE OLIVEIRA",
        "ROBERTO GERALDO PEREIRA",
        "ROBERTO MACEDO SILVA",
        "ROBERTO MONTEIRO LOBO",
        "ROBERTO WANDERLEY DE MIRANDA",
        "ROBERVAL DE OLIVEIRA SALES II",
        "ROBSON AMERICO DE SIQUEIRA ARRUDA",
        "RODOLFO DE ARAUJO BACELAR",
        "RODOLFO LIMA CARTAXO",
        "RODRIGO DE QUEIROZ LEITE",
        "RODRIGO MACIEL DE ARAUJO",
        "RODRIGO PASSOS DE ALBUQUERQUE",
        "ROGACIANO ALVES CAMPOS",
        "ROMANO JOSE CARNEIRO DA CUNHA COSTA",
        "ROMMEL RICARDO ROMULO CAMINHA LIMA",
        "ROMULO AIRES DA SILVA",
        "ROMULO CESAR DE HOLANDA SOUZA",
        "RONALDO LUZ DANTAS",
        "ROSILEIDE CARMINA SOARES ARAUJO",
        "SAMUEL SILVA BASILIO SOARES",
        "SARA ELIBIA RODRIGUES DA ROCHA FERREIRA MACHADO",
        "SARA GOUVEIA",
        "SERGIO CANTINHO SALSA",
        "SERGIO DE CARVALHO GOMES MOREIRA",
        "SERVULLA WALLESKA ORENGO BEZERRA",
        "SILVANA CARLA PEREIRA DA COSTA",
        "SILVANDER DE SOUZA PONTE",
        "SILVIA RENATA DE ARAUJO OLIVEIRA E VASCONCELOS VILA NOVA",
        "SORAIA SOUTO ARRUDA",
        "STEPHANIE ALMEIDA ARAUJO",
        "SYLVIO ROMERO RODRIGUES",
        "TATIANE ROSSI",
        "TEREZA MARIA BARBOSA NOGUEIRA",
        "THATIANNE PINTO MACEDO",
        "THAYNA BARBOSA FIORESI",
        "THIAGO DE SOUSA BATISTA",
        "THIAGO HENRIQUE COSTA DE ALMEIDA",
        "THIAGO PINTO UCHOA DE ARAUJO",
        "UBIRATAN ROCHA FERNANDES",
        "VALDO HENRIQUE VERCOSA DE MELO SOUSA",
        "VALMIR GOMES DO MONTE",
        "VANESSA BASTOS FERREIRA GOMES",
        "VICKTOR DE ARAUJO MELO",
        "VICTOR AZOUBEL MARLETTI",
        "VICTOR HUGO JARDIM RONDON",
        "VICTOR LEITE MORAES",
        "VICTOR MARINHO FERNANDES DE FREITAS",
        "VICTOR MEIRA TOSCANO PERREIRA",
        "VILANEIDA PARENTE AGUIAR",
        "VINICIUS NOTARI DE MORAES",
        "VINICIUS SILVA DE OLIVEIRA",
        "VITOR FREITAS ANDRADE VIEIRA",
        "VIVIANE SANTA CRUZ LAGO",
        "VON ROMEL CANDIDO DA SILVA",
        "WALDEMIR MAXIMINO PESSOA",
        "WALDENILTON CAVALCANTI DE MORAES",
        "WALKIS PACHECO SOBREIRA FILHO",
        "WASHINGTON ALVES MONTEIRO",
        "WEDYJA DE ANDRADE E SILVA",
        "WILLION MATHEUS POLTRONIERI",
        "WILTON DE SOUSA SANTANA"

    };

    private async Task<IEnumerable<string>> AutoridadeResponsavel(string value)
    {
        await Task.Delay(1);
        if (string.IsNullOrEmpty(value))
            return autoridadeResponsavel;
        return autoridadeResponsavel.Where(x => x.Contains(value, StringComparison.InvariantCultureIgnoreCase));
    }

    //Arquivos
    private async Task UploadArquivos(InputFileChangeEventArgs e)
    {
        foreach (var arquivo in e.GetMultipleFiles())
        {
            var fileContent = arquivo.OpenReadStream(maxAllowedSize: 2097152);

            using var target = new MemoryStream();
            await fileContent.CopyToAsync(target);
            var dadosArquivo = target.ToArray();

            listaArquivos.Add( new NovoArquivo()
            {
                NomeArquivo = arquivo.Name,
                TipoArquivo = (arquivo.Name).Split(".").Last(),
                CriacaoArquivo = DateTime.Now,
                DadosArquivo = dadosArquivo
            });
        }
    }

    private async Task BaixarArquivo(NovoArquivo arquivo)
    {
        var fileStream = new MemoryStream(arquivo.DadosArquivo);

        var fileName = arquivo.NomeArquivo;

        using var streamRef = new DotNetStreamReference(stream: fileStream);

        await JS.InvokeVoidAsync("downloadFileFromStream", fileName, streamRef);
    }

    void ExcluirArquivo(NovoArquivo arquivo) => listaArquivos.Remove(arquivo);
}

<style>
    .sombra {
        box-shadow: 3px 3px 3px 3px #aaaaaa;
    }

    .tabelaBOEcomplementado {
        height: 160px;
        overflow: scroll;
    }

    .blazored-modal-header{
        color: black;
    }

    .chipTransparente {
        background-color: transparent; 
    }

    .status {
        margin-left: 10px;
        margin-right: 0px;
        margin-bottom: 0px;
    }

    .editForm{
        padding-bottom: 440px;
    }
</style>